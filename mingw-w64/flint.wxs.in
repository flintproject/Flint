<?xml version='1.0'?>
<Wix xmlns='http://schemas.microsoft.com/wix/2006/wi'>
  <Product Id='f6d0d912-1a72-11e1-8967-9344df455682' Name='Flint' Language='1033'
           Version='VERSION' Manufacturer='Flint project' UpgradeCode='0223581c-1a73-11e1-b0fd-1f82e9961ce5'>
    <Package Description='Flint is a simulator for physiome.'
             Comments='Flint is a simulator for physiome.'
             Manufacturer='Flint project'
             InstallScope='perMachine' InstallerVersion='200' Compressed='yes' />

    <Media Id='1' Cabinet='product.cab' EmbedCab='yes' />

    <Directory Id='TARGETDIR' Name='SourceDir'>

      <Component Id='Environment' Guid='f8b61b0c-ea1d-11e3-9d71-0b54cc44b48d'>
        <Environment Id='PATH' Name='PATH' Value='[FLINTDIR]' Permanent='no' Part='last' Action='set' System='yes' />
      </Component>

      <Directory Id='ProgramFilesFolder' Name='PFiles'>
        <Directory Id='FLINTDIR' Name='Flint'>

          <Component Id='flint_exe' Guid='b3759fa0-220f-11e1-95b8-8fcafecb7541'>
            <File Id='flint.exe' Name='flint.exe' DiskId='1' Source='flint.exe' />
            <Shortcut Id='flint_desktop_shortcut' Name='Flint'
                      Directory='DesktopFolder'
                      Description='Flint is a simulator for physiome.'
                      Icon='flint.ico'
                      WorkingDirectory='FLINTDIR'
                      Advertise='yes' />
          </Component>
          <Component Id='flint_jar' Guid='0c7ff5e0-1a73-11e1-bb1b-636ae32200f8'>
            <File Id='flint.jar' Name='flint.jar' DiskId='1' Source='flint.jar' />
          </Component>
          <Component Id='icon_png' Guid='68a29444-70cc-11e2-94d9-a325e0ec4c17'>
            <File Id='icon.png' Name='icon.png' DiskId='1' Source='icon.png' />
          </Component>

          <Directory Id='ClasspathDir' Name='lib'>
            <Component Id='GarudaSDK' Guid='a43f5bae-0c64-11e6-9b26-6f71a21d7a44'>
              <File Id='GarudaSDK.jar' Name='GarudaSDK-2.0.jar' DiskId='1' Source='lib/GarudaSDK-2.0.jar' />
            </Component>
            <Component Id='commons_cli' Guid='2ca271c8-7593-11e2-8411-271d74e77d40'>
              <File Id='commons_cli.jar' Name='commons-cli-1.3.1.jar' DiskId='1' Source='lib/commons-cli-1.3.1.jar' />
            </Component>
            <Component Id='commons_io' Guid='c0b185a0-0c64-11e6-a54d-db69f68035e6'>
              <File Id='commons_io.jar' Name='commons-io-2.5.jar' DiskId='1' Source='lib/commons-io-2.5.jar' />
            </Component>
            <Component Id='commons_logging' Guid='97ddc5e4-3552-11e3-b56b-efd74f2f8d34'>
              <File Id='commons_logging.jar' Name='commons-logging-1.2.jar' DiskId='1' Source='lib/commons-logging-1.2.jar' />
            </Component>
            <Component Id='dom4j' Guid='d6f40772-848e-11e2-be41-672554022a02'>
              <File Id='dom4j.jar' Name='dom4j-1.6.1.jar' DiskId='1' Source='lib/dom4j-1.6.1.jar' />
            </Component>
            <Component Id='jackson' Guid='c132460e-0c64-11e6-9f6f-537952a81177'>
              <File Id='jackson.jar' Name='jackson-all-1.8.1.jar' DiskId='1' Source='lib/jackson-all-1.8.1.jar' />
            </Component>
            <Component Id='jcommon' Guid='3032ea7a-cc92-11e1-9ce1-77b4b70ee673'>
              <File Id='jcommon.jar' Name='jcommon-1.0.23.jar' DiskId='1' Source='lib/jcommon-1.0.23.jar' />
            </Component>
            <Component Id='jfreechart' Guid='393169b2-cc92-11e1-8207-5b9a33bb7817'>
              <File Id='jfreechart.jar' Name='jfreechart-1.0.19.jar' DiskId='1' Source='lib/jfreechart-1.0.19.jar' />
            </Component>
            <Component Id='log4j' Guid='278080d0-da1c-11e1-99c1-4783ff8d51ca'>
              <File Id='log4j.jar' Name='log4j-1.2.17.jar' DiskId='1' Source='lib/log4j-1.2.17.jar' />
            </Component>
            <Component Id='protobuf_java' Guid='e62bbfaa-1fae-11e1-a3c7-c705326b6d6c'>
              <File Id='protobuf_java.jar' Name='protobuf-java-3.3.0.jar' DiskId='1' Source='lib/protobuf-java-3.3.0.jar' />
            </Component>
            <Component Id='sqlite_jdbc' Guid='7a65beae-bef5-11e3-8a59-a7cc068a8766'>
              <File Id='sqlite_jdbc.jar' Name='sqlite-jdbc-3.14.2.1.jar' DiskId='1' Source='lib/sqlite-jdbc-3.14.2.1.jar' />
            </Component>
          </Directory>

          <Component Id='csv2isd' Guid='f4b4b0b8-823f-11e3-8e59-bf8a1e617bcf'>
            <File Id='csv2isd.exe' Name='csv2isd.exe' DiskId='1' Source='csv2isd.exe' />
          </Component>
          <Component Id='flint_exec' Guid='86688738-5d69-11e3-9595-f317fcf3e8c5'>
            <File Id='flint_exec.exe' Name='flint-exec.exe' DiskId='1' Source='flint-exec.exe' />
          </Component>
          <Component Id='flint_lodbg' Guid='a4b2f908-bd93-11e5-b1e0-0f2dd21ca26a'>
            <File Id='flint_lodbg.exe' Name='flint-lodbg.exe' DiskId='1' Source='flint-lodbg.exe' />
          </Component>
          <Component Id='flint_open' Guid='33c60296-e7f0-11e3-9c8e-efa5bd532490'>
            <File Id='flint_open.exe' Name='flint-open.exe' DiskId='1' Source='flint-open.exe' />
          </Component>
          <Component Id='flint_pause' Guid='df5497a8-5b76-11e5-ae27-d7789c1a7c7c'>
            <File Id='flint_pause.exe' Name='flint-pause.exe' DiskId='1' Source='flint-pause.exe' />
          </Component>
          <Component Id='flint_resume' Guid='dff9d6d2-5b76-11e5-86b2-af7c494b40c8'>
            <File Id='flint_resume.exe' Name='flint-resume.exe' DiskId='1' Source='flint-resume.exe' />
          </Component>
          <Component Id='flint_run' Guid='c7541b2a-9d03-11e3-9698-b745a2cde4a7'>
            <File Id='flint_run.exe' Name='flint-run.exe' DiskId='1' Source='flint-run.exe' />
          </Component>
          <Component Id='flint_tr' Guid='cc9b2224-1d79-11e6-aa6a-1771aef9e319'>
            <File Id='flint_tr.exe' Name='flint-tr.exe' DiskId='1' Source='flint-tr.exe' />
          </Component>
          <Component Id='flint2' Guid='7e2b5466-cc0f-11e6-bf85-07240701be42'>
            <File Id='flint2.exe' Name='flint2.exe' DiskId='1' Source='flint2.exe' />
          </Component>
          <Component Id='isd2csv' Guid='b87afd3a-a54d-11e1-bac1-b759ca208b40'>
            <File Id='isd2csv.exe' Name='isd2csv.exe' DiskId='1' Source='isd2csv.exe' />
          </Component>
          <Component Id='isdcut' Guid='618f435c-bd93-11e5-b3d0-43d21c517313'>
            <File Id='isdcut.exe' Name='isdcut.exe' DiskId='1' Source='isdcut.exe' />
          </Component>
          <Component Id='isddiff' Guid='deae862e-6013-11e4-8154-07aaccd8efa4'>
            <File Id='isddiff.exe' Name='isddiff.exe' DiskId='1' Source='isddiff.exe' />
          </Component>
          <Component Id='isdhead' Guid='6f9b2830-bd93-11e5-b075-7f0ee60abc93'>
            <File Id='isdhead.exe' Name='isdhead.exe' DiskId='1' Source='isdhead.exe' />
          </Component>
          <Component Id='isdls' Guid='8e0f3b62-bd93-11e5-9295-bb028661720b'>
            <File Id='isdls.exe' Name='isdls.exe' DiskId='1' Source='isdls.exe' />
          </Component>
          <Component Id='isdmerge' Guid='98ce50f6-bd93-11e5-b382-97170bc292fa'>
            <File Id='isdmerge.exe' Name='isdmerge.exe' DiskId='1' Source='isdmerge.exe' />
          </Component>
          <Component Id='isdplot' Guid='0e95f618-aef2-11e1-9c41-8b88a5bed1b9'>
            <File Id='isdplot.exe' Name='isdplot.exe' DiskId='1' Source='isdplot.exe' />
          </Component>
          <Component Id='isdsort' Guid='35c7b978-5b17-11e4-b3fe-072b6829c30e'>
            <File Id='isdsort.exe' Name='isdsort.exe' DiskId='1' Source='isdsort.exe' />
          </Component>
          <Component Id='isdstrip' Guid='71b6563e-adf3-11e1-a6e8-2f343d01eb33'>
            <File Id='isdstrip.exe' Name='isdstrip.exe' DiskId='1' Source='isdstrip.exe' />
          </Component>
          <Component Id='isdwc' Guid='10d5565a-ae0a-11e1-8274-9334251cf9ca'>
            <File Id='isdwc.exe' Name='isdwc.exe' DiskId='1' Source='isdwc.exe' />
          </Component>

          <Component Id='boost.filesystem' Guid='d02c19b4-1a7e-11e1-846e-4f0b3849c594'>
            <File Id='libboost_filesystem' Name='libboost_filesystem-mt.dll' DiskId='1' Source='libboost_filesystem-mt.dll' />
          </Component>
          <Component Id='boost.program_options' Guid='d02c4c7c-1a7e-11e1-bd00-4fe26f314427'>
            <File Id='libboost_program_options' Name='libboost_program_options-mt.dll' DiskId='1' Source='libboost_program_options-mt.dll' />
          </Component>
          <Component Id='boost.system' Guid='d02c802a-1a7e-11e1-8142-7b383aa4b0d4'>
            <File Id='libboost_system' Name='libboost_system-mt.dll' DiskId='1' Source='libboost_system-mt.dll' />
          </Component>
          <Component Id='sundials.arkode' Guid='f7c161ce-d5db-11e5-9360-47a2ddac8059'>
            <File Id='libsundials_arkode' Name='libsundials_arkode.dll' DiskId='1' Source='libsundials_arkode.dll' />
          </Component>
          <Component Id='sundials.cvodes' Guid='3076eb1a-ff63-11e4-bdb9-6b3b5e708c9b'>
            <File Id='libsundials_cvodes' Name='libsundials_cvodes.dll' DiskId='1' Source='libsundials_cvodes.dll' />
          </Component>
          <Component Id='sundials.ida' Guid='3077328c-ff63-11e4-bd07-ef14b7d588b2'>
            <File Id='libsundials_ida' Name='libsundials_ida.dll' DiskId='1' Source='libsundials_ida.dll' />
          </Component>
          <Component Id='sundials.kinsol' Guid='30779150-ff63-11e4-9e3e-f30fef28e749'>
            <File Id='libsundials_kinsol' Name='libsundials_kinsol.dll' DiskId='1' Source='libsundials_kinsol.dll' />
          </Component>
          <Component Id='sundials.nvecserial' Guid='3077d142-ff63-11e4-a856-4ff3f7384135'>
            <File Id='libsundials_nvecserial' Name='libsundials_nvecserial.dll' DiskId='1' Source='libsundials_nvecserial.dll' />
          </Component>
          <Component Id='wxmsw' Guid='80ff1e98-c791-11e6-9786-dfa231e0a1a7'>
            <File Id='wxmsw310u_gcc_custom' Name='wxmsw310u_gcc_custom.dll' DiskId='1' Source='wxmsw310u_gcc_custom.dll' />
          </Component>
          <Component Id='ceres' Guid='f54f071a-45d4-11e7-b347-bb7df618a1d5'>
            <File Id='libceres' Name='libceres.dll' DiskId='1' Source='libceres.dll' />
          </Component>
          <Component Id='clibsedml' Guid='72d89bf4-8921-11e1-8be9-8ffa90143fcb'>
            <File Id='libsedml' Name='libsedml-0.dll' DiskId='1' Source='libsedml-0.dll' />
          </Component>
          <Component Id='czmq' Guid='f1a4e0aa-f1b3-11e6-bb96-137b1a1cb289'>
            <File Id='libczmq' Name='libczmq.dll' DiskId='1' Source='libczmq.dll' />
          </Component>
          <Component Id='protobuf' Guid='233d044c-ff5f-11e4-bcee-2f0a32a0ce0d'>
            <File Id='libprotobuf' Name='libprotobuf-PROTOBUF_CURRENT.dll' DiskId='1' Source='libprotobuf-PROTOBUF_CURRENT.dll' />
          </Component>
          <Component Id='sbml' Guid='e23853ca-ff5e-11e4-a61d-873a99f64190'>
            <File Id='libsbml' Name='libsbml.dll' DiskId='1' Source='libsbml.dll' />
          </Component>
          <Component Id='soslib' Guid='fe0ea6b2-ff5e-11e4-9eff-3f83ebaed478'>
            <File Id='libODES' Name='libODES-0.dll' DiskId='1' Source='libODES-0.dll' />
          </Component>
          <Component Id='libflint' Guid='f521dc04-fac2-11e4-b86c-13339de56753'>
            <File Id='libflint_0' Name='libflint-0.dll' DiskId='1' Source='libflint-0.dll' />
          </Component>
          <Component Id='libflintxx' Guid='f5b2d4d4-fac2-11e4-be8d-1b1200ada46c'>
            <File Id='libflintxx_0' Name='libflintxx-0.dll' DiskId='1' Source='libflintxx-0.dll' />
          </Component>
          <Component Id='libsqlite3' Guid='f4918b0e-fac2-11e4-9c95-875728d9f517'>
            <File Id='libsqlite3_0' Name='libsqlite3-0.dll' DiskId='1' Source='libsqlite3-0.dll' />
          </Component>
          <Component Id='xml2' Guid='d02ce240-1a7e-11e1-8c5d-b793ab03d5f9'>
            <File Id='libxml2' Name='libxml2-2.dll' DiskId='1' Source='libxml2-2.dll' />
          </Component>
          <Component Id='zeromq' Guid='f3c4adfc-f1b3-11e6-9632-afb37b5e1b1b'>
            <File Id='libzmq' Name='libzmq.dll' DiskId='1' Source='libzmq.dll' />
          </Component>
          <Component Id='libgcc' Guid='095f925e-fd04-11e4-aeb4-33aa8a8ff1dc'>
            <File Id='libgcc_dll' Name='LIBGCC_DLL' DiskId='1' Source='LIBGCC_DLL' />
          </Component>
          <Component Id='libstdcxx' Guid='0a7f81da-fd04-11e4-a457-17338bf4b16d'>
            <File Id='libstdcxx_dll' Name='LIBSTDCXX_DLL' DiskId='1' Source='LIBSTDCXX_DLL' />
          </Component>
          <Component Id='libwinpthread' Guid='4876bdc6-1584-11e5-8ee4-d720e79c179c'>
            <File Id='libwinpthread_dll' Name='LIBWINPTHREAD_DLL' DiskId='1' Source='LIBWINPTHREAD_DLL' />
          </Component>

          <Component Id='third_party_licenses' Guid='6699ad54-8e3f-11e3-ae53-e3655a982178'>
            <File Id='third_party_licenses.txt' Name='third-party-licenses.txt' DiskId='1' Source='third-party-licenses.txt' />
          </Component>
        </Directory>
      </Directory>

      <Directory Id='ProgramMenuFolder'>
        <Directory Id='ApplicationProgramsFolder' Name='Flint'>
          <Component Id='flint_startmenu' Guid='d02d13fa-1a7e-11e1-8d61-5f7cc3fac917'>
            <Shortcut Id='flint_startmenu_shortcut' Name='Flint'
                      Description='Flint is a simulator for physiome.'
                      Icon='flint.ico'
                      Target='[FLINTDIR]flint.exe'
                      WorkingDirectory='FLINTDIR' />
            <Shortcut Id='UninstallProduct' Name='uninstall'
                      Description='Uninstall Flint.'
                      Target='[SystemFolder]msiexec.exe'
                      Arguments='/x [ProductCode]' />
            <RemoveFolder Id='ApplicationProgramsFolder' On='uninstall' />
            <RegistryValue Root='HKCU' Key='Software\oist.jp\Flint' Name='installed' Type='integer' Value='1' KeyPath='yes' />
          </Component>
        </Directory>
      </Directory>

      <Directory Id='DesktopFolder' Name='Desktop' />
    </Directory>

    <Feature Id='GuiFeature' Title='GUI Feature' Level='1'>
      <ComponentRef Id='flint_exe' />
      <ComponentRef Id='flint_jar' />
      <ComponentRef Id='icon_png' />
      <ComponentRef Id='GarudaSDK' />
      <ComponentRef Id='commons_cli' />
      <ComponentRef Id='commons_io' />
      <ComponentRef Id='commons_logging' />
      <ComponentRef Id='dom4j' />
      <ComponentRef Id='jackson' />
      <ComponentRef Id='jcommon' />
      <ComponentRef Id='jfreechart' />
      <ComponentRef Id='log4j' />
      <ComponentRef Id='protobuf_java' />
      <ComponentRef Id='sqlite_jdbc' />
      <ComponentRef Id='flint_startmenu' />
    </Feature>
    <Feature Id='BaseFeature' Title='Base Feature' Level='1'>
      <ComponentRef Id='Environment' />
      <ComponentRef Id='csv2isd' />
      <ComponentRef Id='flint_exec' />
      <ComponentRef Id='flint_lodbg' />
      <ComponentRef Id='flint_open' />
      <ComponentRef Id='flint_pause' />
      <ComponentRef Id='flint_resume' />
      <ComponentRef Id='flint_run' />
      <ComponentRef Id='flint_tr' />
      <ComponentRef Id='flint2' />
      <ComponentRef Id='isd2csv' />
      <ComponentRef Id='isdcut' />
      <ComponentRef Id='isddiff' />
      <ComponentRef Id='isdhead' />
      <ComponentRef Id='isdls' />
      <ComponentRef Id='isdmerge' />
      <ComponentRef Id='isdplot' />
      <ComponentRef Id='isdsort' />
      <ComponentRef Id='isdstrip' />
      <ComponentRef Id='isdwc' />
      <ComponentRef Id='boost.filesystem' />
      <ComponentRef Id='boost.program_options' />
      <ComponentRef Id='boost.system' />
      <ComponentRef Id='sundials.arkode' />
      <ComponentRef Id='sundials.cvodes' />
      <ComponentRef Id='sundials.ida' />
      <ComponentRef Id='sundials.kinsol' />
      <ComponentRef Id='sundials.nvecserial' />
      <ComponentRef Id='wxmsw' />
      <ComponentRef Id='ceres' />
      <ComponentRef Id='clibsedml' />
      <ComponentRef Id='czmq' />
      <ComponentRef Id='protobuf' />
      <ComponentRef Id='sbml' />
      <ComponentRef Id='soslib' />
      <ComponentRef Id='libflint' />
      <ComponentRef Id='libflintxx' />
      <ComponentRef Id='libsqlite3' />
      <ComponentRef Id='xml2' />
      <ComponentRef Id='zeromq' />
      <ComponentRef Id='libgcc' />
      <ComponentRef Id='libstdcxx' />
      <ComponentRef Id='libwinpthread' />
      <ComponentRef Id='third_party_licenses' />
    </Feature>

    <Icon Id="flint.ico" SourceFile="flint.ico"/>

    <Property Id="ARPPRODUCTICON" Value="flint.ico" />
    <Property Id="WIXUI_INSTALLDIR" Value="FLINTDIR" />
    <UIRef Id="WixUI_InstallDir" />
    <WixVariable Id="WixUILicenseRtf" Value="license.rtf" />
  </Product>
</Wix>
